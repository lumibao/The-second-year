<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>Happy 2nd Anniversary, Van üíú</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600&family=DM+Sans:wght@300;400;500;600&family=VT323&display=swap" rel="stylesheet"/>
<style>
/* ============================================================
   DESIGN DIRECTION: Cozy night cityscape. Warm amber + deep
   indigo + blush. Film-grain texture. Cinematic letterbox.
   Like a warm lamp in a dark room full of stars.
============================================================ */

:root {
  --night:     #090714;
  --deep:      #110e22;
  --card-bg:   rgba(255,255,255,0.038);
  --card-b:    rgba(255,255,255,0.08);
  --amber:     #f6c27a;
  --blush:     #f4a8c7;
  --lilac:     #c4a8f4;
  --cream:     #f0ead8;
  --muted:     rgba(240,234,216,0.52);
  --text:      #f0ead8;
  --glow-a:    rgba(246,194,122,0.12);
  --glow-b:    rgba(244,168,199,0.10);
  --r:         16px;
  --ease:      cubic-bezier(0.22,1,0.36,1);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  font-family: 'DM Sans', sans-serif;
  background: var(--night);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -webkit-tap-highlight-color: transparent;
}

/* ============================================================
   FILM GRAIN OVERLAY
============================================================ */
body::after {
  content: '';
  position: fixed; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.055'/%3E%3C/svg%3E");
  pointer-events: none; z-index: 9999; opacity: 1;
}

/* ============================================================
   BACKGROUND GALAXY
============================================================ */
#galaxy {
  position: fixed; inset: 0; z-index: 0; pointer-events: none; overflow: hidden;
}

/* Deep sky gradient */
.sky {
  position: absolute; inset: 0;
  background: radial-gradient(ellipse 120% 70% at 50% -10%, #1a1035 0%, var(--night) 65%);
}

/* Warm city horizon glow */
.horizon-glow {
  position: absolute; bottom: 0; left: 0; width: 100%; height: 45%;
  background: linear-gradient(to top,
    rgba(246,150,80,0.07) 0%,
    rgba(244,168,199,0.04) 25%,
    transparent 65%);
}

/* Stars */
.star-field {
  position: absolute; inset: 0;
  background-image:
    radial-gradient(1.2px 1.2px at  8%  12%, rgba(255,255,255,.75), transparent),
    radial-gradient(1.4px 1.4px at 17%  34%, rgba(255,255,255,.6),  transparent),
    radial-gradient(1.0px 1.0px at 29%   8%, rgba(255,255,255,.8),  transparent),
    radial-gradient(1.6px 1.6px at 40%  22%, rgba(246,194,122,.7),  transparent),
    radial-gradient(1.1px 1.1px at 52%  15%, rgba(255,255,255,.65), transparent),
    radial-gradient(1.3px 1.3px at 63%  40%, rgba(196,168,244,.7),  transparent),
    radial-gradient(1.0px 1.0px at 74%  10%, rgba(255,255,255,.6),  transparent),
    radial-gradient(1.5px 1.5px at 82%  28%, rgba(255,255,255,.75), transparent),
    radial-gradient(1.2px 1.2px at 91%  18%, rgba(244,168,199,.65), transparent),
    radial-gradient(1.0px 1.0px at  5%  55%, rgba(255,255,255,.5),  transparent),
    radial-gradient(1.4px 1.4px at 25%  62%, rgba(255,255,255,.55), transparent),
    radial-gradient(1.1px 1.1px at 45%  48%, rgba(246,194,122,.5),  transparent),
    radial-gradient(1.3px 1.3px at 70%  58%, rgba(255,255,255,.6),  transparent),
    radial-gradient(1.0px 1.0px at 88%  45%, rgba(255,255,255,.5),  transparent),
    radial-gradient(1.2px 1.2px at 35%  78%, rgba(196,168,244,.5),  transparent),
    radial-gradient(1.5px 1.5px at 55%  82%, rgba(255,255,255,.55), transparent),
    radial-gradient(1.1px 1.1px at 78%  70%, rgba(244,168,199,.5),  transparent),
    radial-gradient(0.9px 0.9px at 12%  85%, rgba(255,255,255,.4),  transparent),
    radial-gradient(1.3px 1.3px at 93%  75%, rgba(255,255,255,.5),  transparent),
    radial-gradient(1.0px 1.0px at 60%  92%, rgba(246,194,122,.4),  transparent);
  background-size: 100% 100%;
  animation: starTwinkle 9s ease-in-out infinite;
}
.star-field.layer2 {
  transform: scale(1.15) rotate(3deg);
  opacity: .55;
  animation: starTwinkle 6s ease-in-out infinite reverse;
}
@keyframes starTwinkle {
  0%,100% { opacity: 1; }
  45%     { opacity: .45; }
}

/* Comet */
.comet {
  position: absolute;
  width: 300px; height: 1.5px;
  left: -20%; top: 18%;
  background: linear-gradient(90deg, transparent, rgba(246,194,122,.9), rgba(255,255,255,.6), transparent);
  border-radius: 100px;
  filter: blur(1px);
  opacity: 0;
  animation: cometFly 14s linear infinite;
}
.comet::after {
  content: '';
  position: absolute; right: 0; top: 50%;
  transform: translate(50%,-50%);
  width: 5px; height: 5px; border-radius: 50%;
  background: radial-gradient(circle, #fff, rgba(246,194,122,.8));
  box-shadow: 0 0 12px 4px rgba(246,194,122,.5);
}
@keyframes cometFly {
  0%   { opacity:0; transform: translateX(0) translateY(0) rotate(-18deg); }
  5%   { opacity:1; }
  40%  { opacity:.8; }
  60%  { opacity:0; transform: translateX(120vw) translateY(35vh) rotate(-18deg); }
  100% { opacity:0; transform: translateX(120vw) translateY(35vh) rotate(-18deg); }
}

/* ============================================================
   CINEMATIC INTRO
============================================================ */
#intro {
  position: fixed; inset: 0; z-index: 800;
  background: #000;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
  cursor: pointer;
}
#intro.exit {
  animation: introExit 1.8s var(--ease) forwards;
  pointer-events: none;
}
@keyframes introExit {
  0%   { opacity: 1; }
  100% { opacity: 0; }
}

/* Letterbox bars */
.lb-bar {
  position: absolute; left: 0; width: 100%;
  background: #000; z-index: 10;
  transition: transform 1.6s var(--ease);
}
.lb-top { top: 0; height: 12vh; transform: translateY(0); }
.lb-bot { bottom: 0; height: 12vh; transform: translateY(0); }
.lb-top.open { transform: translateY(-100%); }
.lb-bot.open { transform: translateY(100%); }

/* Stars slowly appear behind */
.intro-stars {
  position: absolute; inset: 0;
  background-image:
    radial-gradient(1px 1px at 15%  20%, rgba(255,255,255,.7), transparent),
    radial-gradient(1px 1px at 40%  35%, rgba(246,194,122,.6), transparent),
    radial-gradient(1px 1px at 65%  12%, rgba(255,255,255,.7), transparent),
    radial-gradient(1px 1px at 80%  45%, rgba(196,168,244,.6), transparent),
    radial-gradient(1px 1px at 25%  65%, rgba(255,255,255,.5), transparent),
    radial-gradient(1px 1px at 55%  75%, rgba(244,168,199,.5), transparent),
    radial-gradient(1px 1px at 88%  30%, rgba(255,255,255,.6), transparent),
    radial-gradient(1px 1px at  5%  80%, rgba(246,194,122,.5), transparent);
  background-size: 100% 100%;
  opacity: 0;
  animation: introStarsReveal 3s ease-out 0.5s forwards;
}
@keyframes introStarsReveal {
  to { opacity: 1; }
}

/* Warm city horizon in intro */
.intro-horizon {
  position: absolute; bottom: 0; left: 0; width: 100%; height: 40%;
  background: linear-gradient(to top,
    rgba(246,120,60,0.09),
    rgba(246,194,122,0.05) 30%,
    transparent 70%);
  opacity: 0;
  animation: introHorizonReveal 4s ease-out 1.5s forwards;
}
@keyframes introHorizonReveal { to { opacity: 1; } }

/* City silhouette in intro */
.intro-city {
  position: absolute; bottom: 12vh; width: 110%; left: -5%; height: 100px;
  background: #0a0810;
  clip-path: polygon(0% 100%,3% 60%,7% 75%,11% 38%,16% 68%,21% 28%,26% 70%,32% 18%,38% 55%,44% 10%,50% 48%,56% 22%,62% 65%,68% 35%,74% 75%,80% 48%,86% 65%,92% 32%,96% 58%,100% 100%);
  opacity: 0;
  animation: introHorizonReveal 3s ease-out 1.8s forwards;
}
/* Lit windows */
.intro-city::after {
  content: '';
  position: absolute; inset: 0;
  background-image:
    radial-gradient(1px 1px at 22% 48%, rgba(255,220,100,.6), transparent),
    radial-gradient(1px 1px at 35% 35%, rgba(255,200,80,.5),  transparent),
    radial-gradient(1px 1px at 45% 20%, rgba(255,220,100,.7), transparent),
    radial-gradient(1px 1px at 60% 38%, rgba(200,180,255,.5), transparent),
    radial-gradient(1px 1px at 75% 52%, rgba(255,220,100,.6), transparent);
  background-size: 100% 100%;
}

/* Intro text container */
.intro-text {
  position: relative; z-index: 5;
  text-align: center;
  display: flex; flex-direction: column; align-items: center; gap: 0;
}

/* Each text line animates in sequentially */
.intro-line {
  opacity: 0;
  transform: translateY(14px);
  transition: opacity .9s ease, transform .9s var(--ease);
}
.intro-line.show { opacity: 1; transform: translateY(0); }

.iline-date {
  font-family: 'DM Sans', sans-serif;
  font-size: clamp(11px,1.4vw,13px);
  letter-spacing: .22em;
  text-transform: uppercase;
  color: rgba(246,194,122,.7);
  margin-bottom: 24px;
}
.iline-from {
  font-family: 'DM Sans', sans-serif;
  font-size: clamp(11px,1.3vw,12px);
  letter-spacing: .3em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 16px;
}
.iline-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(38px,7vw,72px);
  font-weight: 300;
  line-height: 1.08;
  color: var(--cream);
  letter-spacing: -.01em;
}
.iline-title em {
  font-style: italic;
  color: var(--blush);
}
.iline-sub {
  margin-top: 20px;
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  font-size: clamp(14px,2.2vw,18px);
  color: var(--muted);
  letter-spacing: .02em;
}
.iline-hint {
  margin-top: 52px;
  font-size: 11px;
  letter-spacing: .18em;
  text-transform: uppercase;
  color: rgba(240,234,216,.3);
  animation: hintPulse 2.5s ease-in-out infinite;
}
@keyframes hintPulse { 50% { opacity: .12; } }

/* ============================================================
   NAV
============================================================ */
.topbar {
  position: sticky; top: 10px;
  max-width: 1100px; margin: 10px auto 0;
  display: flex; align-items: center; gap: 10px;
  padding: 11px 20px;
  background: rgba(17,14,34,0.8);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 14px;
  backdrop-filter: blur(14px) saturate(140%);
  box-shadow: 0 20px 55px rgba(0,0,0,.6);
  z-index: 90;
}
.brand {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.05rem;
  font-weight: 600;
  letter-spacing: .02em;
  flex: 1;
  background: linear-gradient(90deg, var(--amber), var(--blush));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.nav { display: flex; gap: 2px; }
.nav-link {
  color: var(--muted); text-decoration: none;
  font-size: .82rem; font-weight: 500;
  padding: 7px 12px; border-radius: 9px;
  transition: all .22s ease; white-space: nowrap;
}
.nav-link:hover { color: var(--cream); background: rgba(255,255,255,.05); }
.hambtn {
  display: none; background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 10px; padding: 8px; font-size: 1.1rem;
  color: var(--text); cursor: pointer;
}
.theme-btn {
  background: transparent; border: none; font-size: .95rem;
  cursor: pointer; padding: 7px; border-radius: 9px;
  color: var(--text); transition: transform .3s;
}
.theme-btn:hover { transform: rotate(18deg) scale(1.1); }
.drawer {
  position: fixed; left: 0; top: 70px; width: 230px; z-index: 95;
  background: var(--deep); border: 1px solid var(--card-b);
  border-radius: 0 14px 14px 0; padding: 16px;
  transform: translateX(-110%);
  transition: transform .38s var(--ease);
  box-shadow: 0 24px 60px rgba(0,0,0,.7);
}
.drawer.open { transform: translateX(0); }
.drawer-link {
  display: block; color: var(--muted); text-decoration: none;
  padding: 10px 8px; border-radius: 8px; font-size: .9rem; font-weight: 500;
  transition: all .2s;
}
.drawer-link:hover { color: var(--cream); background: rgba(255,255,255,.04); }

/* ============================================================
   MAIN LAYOUT
============================================================ */
main {
  max-width: 1100px; margin: 0 auto;
  padding: 24px 20px 80px;
  position: relative; z-index: 1;
}
.section { padding: 18px 0; }

.glass-card {
  background: var(--card-bg);
  border: 1px solid var(--card-b);
  border-radius: var(--r);
  backdrop-filter: blur(10px);
  box-shadow: 0 20px 55px rgba(0,0,0,.55);
  padding: 32px;
  transition: transform .3s var(--ease), box-shadow .3s ease;
}
.glass-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 30px 70px rgba(0,0,0,.7);
}

.card-label {
  font-size: 10px; letter-spacing: .22em;
  text-transform: uppercase; color: var(--amber); opacity: .8;
  margin-bottom: 10px;
}
.card-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.3rem,3vw,1.7rem);
  font-weight: 600;
  color: var(--cream);
  margin-bottom: 18px;
}
.btn {
  display: inline-flex; align-items: center; gap: 7px;
  padding: 11px 22px; border-radius: 11px; border: none;
  font-family: 'DM Sans', sans-serif; font-weight: 600; font-size: .88rem;
  cursor: pointer; text-decoration: none;
  background: linear-gradient(135deg, #7c5af6, #c084fc);
  color: #fff;
  box-shadow: 0 10px 30px rgba(124,90,246,.3);
  transition: all .28s var(--ease);
}
.btn:hover { transform: translateY(-3px); filter: brightness(1.1); }
.btn.ghost {
  background: transparent; border: 1px solid var(--card-b);
  color: var(--muted); box-shadow: none;
}
.btn.ghost:hover { background: rgba(255,255,255,.05); color: var(--cream); }

/* ============================================================
   HERO
============================================================ */
.hero-card {
  text-align: center; padding: 60px 36px; position: relative; overflow: hidden;
}
.hero-card::before {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(60% 60% at 50% 50%, rgba(246,194,122,.04), transparent);
  pointer-events: none;
}
.hero-eyebrow {
  display: inline-flex; align-items: center; gap: 8px;
  background: rgba(244,168,199,.1); border: 1px solid rgba(244,168,199,.2);
  border-radius: 100px; padding: 6px 16px; font-size: .8rem;
  color: var(--blush); font-weight: 500; margin-bottom: 20px;
}
.hero-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(40px, 7.5vw, 80px);
  font-weight: 300; line-height: 1.06; letter-spacing: -.02em;
  color: var(--cream);
}
.hero-title em {
  font-style: italic; font-weight: 400;
  background: linear-gradient(90deg, var(--amber), var(--blush));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.hero-sub {
  color: var(--muted); font-size: 1rem;
  max-width: 540px; margin: 16px auto 0; line-height: 1.75;
}
.hero-actions {
  display: flex; gap: 12px; justify-content: center;
  margin-top: 28px; flex-wrap: wrap;
}
.hero-date-pill {
  display: inline-block;
  font-size: 11px; letter-spacing: .16em; text-transform: uppercase;
  color: rgba(246,194,122,.65); margin-top: 22px;
}

/* ============================================================
   VISUAL NOVEL GAME
============================================================ */
.game-section-header { margin-bottom: 14px; }
.game-section-header p { color: var(--muted); font-size: .88rem; margin-top: 4px; }

#game-wrap {
  position: relative; overflow: hidden;
  border-radius: var(--r); border: 1px solid var(--card-b);
  box-shadow: 0 28px 70px rgba(0,0,0,.75);
  background: #000;
  /* Fixed height ‚Äî not aspect-ratio, avoids text cutoff on any screen */
  height: clamp(420px, 60vw, 580px);
  cursor: pointer; user-select: none;
}

/* Night scene */
#g-scene {
  position: absolute; inset: 0;
  background: linear-gradient(to bottom, #020108 0%, #0a0715 50%, #110e20 100%);
}
.g-stars {
  position: absolute; top: 0; left: 0; width: 100%; height: 65%;
  background-image:
    radial-gradient(1px 1px at 12% 18%, rgba(255,255,255,.7), transparent),
    radial-gradient(1px 1px at 30% 10%, rgba(246,194,122,.6), transparent),
    radial-gradient(1px 1px at 48% 25%, rgba(255,255,255,.65), transparent),
    radial-gradient(1px 1px at 67% 8%,  rgba(196,168,244,.6),  transparent),
    radial-gradient(1px 1px at 84% 20%, rgba(255,255,255,.7),  transparent),
    radial-gradient(1px 1px at 22% 45%, rgba(255,255,255,.5),  transparent),
    radial-gradient(1px 1px at 60% 40%, rgba(244,168,199,.5),  transparent),
    radial-gradient(1px 1px at 90% 35%, rgba(255,255,255,.55), transparent);
  animation: gStarTwinkle 8s ease-in-out infinite;
}
@keyframes gStarTwinkle { 50% { opacity: .4; } }

.g-moon {
  position: absolute; top: 7%; right: 10%; width: 44px; height: 44px;
  border-radius: 50%;
  background: radial-gradient(circle at 38% 38%, #fff8e7, #f0ddb0 60%, rgba(230,200,140,.3));
  box-shadow: 0 0 28px 8px rgba(246,194,122,.22);
  animation: gMoonFloat 9s ease-in-out infinite;
}
@keyframes gMoonFloat { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-5px)} }

.g-city {
  position: absolute; width: 110%; left: -5%; height: 120px;
  background: #05040c;
  clip-path: polygon(0% 100%,3% 55%,7% 72%,11% 36%,16% 65%,21% 25%,26% 68%,32% 14%,38% 52%,44% 8%,50% 45%,56% 20%,62% 60%,68% 32%,74% 72%,80% 45%,86% 62%,92% 30%,96% 55%,100% 100%);
}
.g-city { bottom: calc(22% + 2px); }

/* Window lights */
.g-city-lights {
  position: absolute; width: 110%; left: -5%; height: 120px;
  bottom: calc(22% + 2px);
  pointer-events: none;
}
.g-city-lights::before {
  content: '';
  position: absolute; inset: 0;
  background-image:
    radial-gradient(1.5px 1.5px at 15% 48%, rgba(255,220,100,.65), transparent 3px),
    radial-gradient(1.5px 1.5px at 22% 35%, rgba(255,200,80,.55),  transparent 3px),
    radial-gradient(1.5px 1.5px at 36% 22%, rgba(255,220,100,.7),  transparent 3px),
    radial-gradient(1.5px 1.5px at 45% 12%, rgba(255,220,100,.65), transparent 3px),
    radial-gradient(1.5px 1.5px at 52% 30%, rgba(200,180,255,.6),  transparent 3px),
    radial-gradient(1.5px 1.5px at 63% 18%, rgba(255,220,100,.6),  transparent 3px),
    radial-gradient(1.5px 1.5px at 70% 40%, rgba(255,220,100,.55), transparent 3px),
    radial-gradient(1.5px 1.5px at 80% 25%, rgba(200,180,255,.6),  transparent 3px),
    radial-gradient(1.5px 1.5px at 89% 35%, rgba(255,220,100,.6),  transparent 3px);
  background-size: 100% 100%;
  animation: winFlicker 5s steps(1) infinite;
}
@keyframes winFlicker { 0%,100%{opacity:1} 50%{opacity:.6} 68%{opacity:.9} 82%{opacity:.7} }

/* Warm ground glow */
.g-glow {
  position: absolute; bottom: 0; left: 0; width: 100%; height: 28%;
  background: linear-gradient(to top, rgba(246,130,60,.06), transparent);
}
.g-ground {
  position: absolute; bottom: 0; left: 0; width: 100%; height: 22%;
  background: linear-gradient(to bottom, #07060f, #000);
  border-top: 1px solid rgba(255,255,255,.06);
}

/* Floating particles */
.g-particle {
  position: absolute; border-radius: 50%;
  background: rgba(246,194,122,.5);
  animation: gParticleFloat linear infinite;
  pointer-events: none;
}
@keyframes gParticleFloat {
  0%   { opacity: 0; transform: translateY(0); }
  10%  { opacity: 1; }
  90%  { opacity: .5; }
  100% { opacity: 0; transform: translateY(-45vh); }
}

/* Character ‚Äî two-person silhouette */
#g-char {
  position: absolute; bottom: 22%; left: 50%; transform: translateX(-60%);
  width: 110px; height: 155px; z-index: 20;
}
/* Person A (Hatsuki) */
.pa-head { position:absolute; bottom:118px; left:8px; width:26px; height:30px; background:#131222; border-radius:50%; }
.pa-body { position:absolute; bottom:54px;  left:4px; width:40px; height:64px; background:#131222; border-radius:8px 8px 3px 3px; box-shadow:0 0 14px rgba(246,194,122,.1); }
.pa-legs { position:absolute; bottom:0;     left:8px; width:14px; height:54px; background:#0e0d1a; box-shadow:18px 0 0 #0e0d1a; }
.pa-arm  { position:absolute; bottom:68px;  left:42px; width:10px; height:44px; background:#131222; border-radius:5px; transform:rotate(20deg); transform-origin:top center; }
/* Person B (Van) */
.pb-head { position:absolute; bottom:116px; right:6px; width:25px; height:28px; background:#131222; border-radius:50%; }
.pb-body { position:absolute; bottom:53px;  right:2px; width:38px; height:63px; background:#131222; border-radius:8px 8px 3px 3px; }
.pb-legs { position:absolute; bottom:0;     right:6px; width:13px; height:54px; background:#0e0d1a; box-shadow:-17px 0 0 #0e0d1a; }
.pb-arm  { position:absolute; bottom:66px;  right:38px; width:10px; height:44px; background:#131222; border-radius:5px; transform:rotate(-20deg); transform-origin:top center; }
/* Shared glow */
.g-char-glow {
  position:absolute; inset:-16px; border-radius:50%;
  background: radial-gradient(circle, rgba(246,194,122,.05), transparent 70%);
  pointer-events:none;
}

/* ---- DIALOGUE UI ---- */
#g-ui {
  position: absolute; bottom: 0; left: 0; width: 100%;
  /* Dynamic height that won't cut text */
  min-height: 32%; max-height: 48%;
  background: rgba(8,6,18,.92);
  border-top: 1px solid rgba(255,255,255,.1);
  backdrop-filter: blur(8px);
  padding: 16px 22px 14px;
  z-index: 50;
  display: flex; flex-direction: column; gap: 8px;
  opacity: 0; transition: opacity .8s ease;
  overflow: hidden;
}
#g-speaker {
  font-family: 'DM Sans', sans-serif;
  font-size: 11px; font-weight: 600;
  letter-spacing: .2em; text-transform: uppercase;
  color: var(--amber); flex-shrink: 0;
}
#g-speaker.van  { color: var(--blush); }

#g-text {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(16px, 2.6vw, 22px);
  line-height: 1.6; color: var(--cream);
  flex: 1; overflow: hidden;
  word-wrap: break-word; word-break: break-word;
}

.g-cursor::after {
  content: '|';
  color: var(--amber);
  animation: gCursor .9s ease-in-out infinite;
  margin-left: 2px;
}
@keyframes gCursor { 50% { opacity: 0; } }

.g-tap {
  font-size: 10px; letter-spacing: .14em; text-transform: uppercase;
  color: rgba(240,234,216,.25); align-self: flex-end; flex-shrink: 0;
  animation: hintPulse 2.2s ease-in-out infinite;
}

/* End screen */
#g-end {
  position: absolute; inset: 0; z-index: 200;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 12px;
  background: rgba(6,4,14,.92); backdrop-filter: blur(6px);
  opacity: 0; pointer-events: none;
  transition: opacity 1.2s ease;
}
#g-end.show { opacity: 1; pointer-events: auto; }
.g-end-heart {
  font-size: 38px;
  animation: endHeartBeat 1.6s ease-in-out infinite;
}
@keyframes endHeartBeat { 0%,100%{transform:scale(1)} 50%{transform:scale(1.1)} }
.g-end-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(20px,5vw,38px); font-weight: 600;
  color: var(--cream); text-align: center; letter-spacing: -.01em;
}
.g-end-sub {
  font-family: 'Cormorant Garamond', serif;
  font-style: italic; font-size: clamp(14px,2.5vw,20px);
  color: var(--blush); text-align: center;
}
.g-replay-btn {
  margin-top: 14px;
  background: transparent; border: 1px solid rgba(246,194,122,.3);
  color: var(--amber); font-family: 'DM Sans', sans-serif;
  font-weight: 600; font-size: .82rem; letter-spacing: .06em;
  padding: 10px 24px; border-radius: 10px; cursor: pointer;
  transition: all .25s;
}
.g-replay-btn:hover { background: rgba(246,194,122,.08); }

/* ============================================================
   POEM
============================================================ */
.poem-body {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1rem,2.2vw,1.2rem);
  font-style: italic; font-weight: 300;
  line-height: 2; color: var(--cream);
}
.poem-body .stanza { margin-bottom: 1.4em; }
.poem-footer { margin-top: 20px; font-size: .85rem; color: var(--muted); }
.poem-divider {
  width: 48px; height: 1px;
  background: linear-gradient(90deg, transparent, var(--amber), transparent);
  margin: 20px 0;
}

/* ============================================================
   LETTER
============================================================ */
.letter-area {
  min-height: 160px; padding: 20px 22px;
  border-radius: 12px;
  background: rgba(255,255,255,.02); border: 1px dashed rgba(255,255,255,.07);
  color: var(--muted); font-size: .93rem; line-height: 1.8;
  white-space: pre-wrap; overflow: auto;
  transition: border-color .25s;
}
.letter-area:focus { outline: none; border-color: rgba(246,194,122,.3); }
.typing-cursor {
  display: inline-block; width: 8px; height: 1.1em; vertical-align: middle;
  background: var(--amber); border-radius: 2px; margin-left: 2px;
  animation: blink .9s steps(2,start) infinite;
}
@keyframes blink { 50% { opacity: 0; } }
.letter-actions { display: flex; gap: 10px; margin-top: 14px; flex-wrap: wrap; }

/* ============================================================
   REASONS
============================================================ */
.r-search {
  width: 100%; padding: 10px 14px; border-radius: 11px;
  border: 1px solid var(--card-b); background: rgba(255,255,255,.03);
  color: var(--text); font-family: 'DM Sans',sans-serif; font-size: .88rem;
  outline: none; transition: border-color .22s; margin-bottom: 12px;
}
.r-search::placeholder { color: var(--muted); }
.r-search:focus { border-color: rgba(246,194,122,.4); }
.r-controls { display: flex; gap: 10px; margin-bottom: 12px; flex-wrap: wrap; }
.reasons-wrap { max-height: 400px; overflow: auto; padding: 2px; }
.reasons-list {
  margin: 0; padding-left: 22px;
  column-count: 1; column-gap: 28px;
  color: var(--muted); font-size: .88rem;
}
.reasons-list li { padding: 4px 0; line-height: 1.65; break-inside: avoid; }
.reasons-list li.hide { display: none; }
@media(min-width:700px)  { .reasons-list { column-count:2; } }
@media(min-width:1000px) { .reasons-list { column-count:3; } }

/* ============================================================
   QUOTES
============================================================ */
.quote-list { list-style: none; display: flex; flex-direction: column; gap: 14px; }
.quote-list li {
  padding: 16px 20px;
  background: rgba(255,255,255,.025); border: 1px solid var(--card-b);
  border-left: 3px solid var(--amber); border-radius: 0 11px 11px 0;
  font-family: 'Cormorant Garamond', serif;
  font-style: italic; font-size: 1.05rem; line-height: 1.65;
  color: var(--muted);
}

/* ============================================================
   GALLERY
============================================================ */
.gallery-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(138px,1fr));
  gap: 12px; margin-top: 14px;
}
.g-item {
  height: 145px; border-radius: 12px;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 6px; cursor: pointer; overflow: hidden;
  border: 1px solid rgba(255,255,255,.05);
  font-family: 'DM Sans',sans-serif; font-size: .82rem; font-weight: 600;
  text-align: center; padding: 14px; color: rgba(255,255,255,.85);
  box-shadow: 0 16px 44px rgba(0,0,0,.5);
  transform: translateY(16px); opacity: 0;
  transition: transform .54s var(--ease), opacity .48s ease, box-shadow .22s;
}
.g-item.vis { transform: translateY(0); opacity: 1; }
.g-item:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 26px 64px rgba(0,0,0,.7); }
.g-item-icon { font-size: 1.6rem; line-height: 1; }
.gi-1 { background: linear-gradient(145deg,#3b1f9e,#6d4fcc); }
.gi-2 { background: linear-gradient(145deg,#9b255b,#e07aaa); }
.gi-3 { background: linear-gradient(145deg,#b5540a,#f6a455); }
.gi-4 { background: linear-gradient(145deg,#1a4d8a,#5ba3e8); }
.gi-5 { background: linear-gradient(145deg,#1d6b55,#50c4a0); }
.gi-6 { background: linear-gradient(145deg,#5e1d8a,#c084e8); }

/* Lightbox */
.lightbox {
  position: fixed; inset: 0; z-index: 600;
  background: rgba(6,4,14,.88);
  display: flex; align-items: center; justify-content: center;
  opacity: 0; pointer-events: none;
  transition: opacity .3s;
}
.lightbox.open { opacity: 1; pointer-events: auto; }
.lb-card {
  max-width: min(680px,92vw); width: 100%;
  background: var(--deep); border: 1px solid var(--card-b);
  border-radius: var(--r); padding: 40px;
  text-align: center; box-shadow: 0 44px 120px rgba(0,0,0,.9);
  transform: scale(.9) translateY(20px);
  transition: all .38s var(--ease);
}
.lightbox.open .lb-card { transform: scale(1) translateY(0); }
.lb-icon { font-size: 2.4rem; margin-bottom: 14px; }
.lb-title { font-family:'Cormorant Garamond',serif; font-size:1.6rem; font-weight:600; color:var(--cream); margin-bottom:8px; }
.lb-caption { color:var(--muted); font-size:.9rem; line-height:1.65; }
.lb-close {
  position: absolute; top: 18px; right: 18px;
  background: rgba(255,255,255,.06); border: 1px solid var(--card-b);
  color: var(--muted); border-radius: 10px; padding: 8px 12px;
  cursor: pointer; font-size: .9rem; transition: all .22s;
}
.lb-close:hover { background: rgba(244,168,199,.12); color: var(--blush); }

/* ============================================================
   FOOTER
============================================================ */
footer {
  text-align: center; color: var(--muted); font-size: .82rem;
  padding: 28px 0; position: relative; z-index: 1;
  border-top: 1px solid rgba(255,255,255,.04); margin-top: 20px;
}
footer strong { color: var(--blush); }

/* ============================================================
   SCROLLBAR
============================================================ */
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,.1); border-radius: 3px; }

/* ============================================================
   RESPONSIVE
============================================================ */
@media(max-width:860px) {
  .nav { display: none; }
  .hambtn { display: inline-flex; align-items: center; }
  main { padding: 16px 14px 80px; }
  .glass-card { padding: 22px 18px; }
  #game-wrap { height: clamp(400px,90vw,520px); }
}
@media(max-width:480px) {
  .hero-card { padding: 42px 18px; }
  #g-text { font-size: 17px; }
}

/* Light theme */
body.light {
  --night: #f4f0fb; --deep: #ece4f8;
  --card-bg: rgba(6,6,18,0.03); --card-b: rgba(6,6,18,0.08);
  --text: #1a1030; --muted: rgba(26,16,48,0.6); --cream: #1a1030;
}
body.light .topbar { background: rgba(240,235,252,.88); }
body.light #g-scene { background: #020108; }
</style>
</head>
<body>

<!-- ============================================================
     CINEMATIC INTRO
============================================================ -->
<div id="intro">
  <!-- Letterbox bars -->
  <div class="lb-bar lb-top" id="lbTop"></div>
  <div class="lb-bar lb-bot" id="lbBot"></div>

  <!-- Atmospheric layers -->
  <div class="sky" style="position:absolute;inset:0;background:radial-gradient(ellipse 110% 60% at 50% 0%,#1a0e30,#000 60%);"></div>
  <div class="intro-stars"></div>
  <div class="intro-horizon"></div>
  <div class="intro-city"></div>

  <!-- Text sequence -->
  <div class="intro-text">
    <div class="intro-line iline-date"    id="il-date">February 25, 2024 ‚Äî February 25, 2026</div>
    <div class="intro-line iline-from"    id="il-from">from Hatsuki, with love</div>
    <div class="intro-line iline-title"   id="il-title">Happy 2nd<br><em>Anniversary,</em><br>Van</div>
    <div class="intro-line iline-sub"     id="il-sub">"Two years of choosing you, every single day."</div>
    <div class="intro-line iline-hint"    id="il-hint">‚Äî tap anywhere to open ‚Äî</div>
  </div>
</div>

<!-- ============================================================
     GALAXY BACKGROUND
============================================================ -->
<div id="galaxy">
  <div class="sky"></div>
  <div class="star-field"></div>
  <div class="star-field layer2"></div>
  <div class="horizon-glow"></div>
  <div class="comet"></div>
</div>

<!-- ============================================================
     TOP NAV
============================================================ -->
<header>
  <nav class="topbar">
    <button class="hambtn" id="hambtn">‚ò∞</button>
    <div class="brand">For Van üíú</div>
    <div class="nav">
      <a href="#home"    class="nav-link">Home</a>
      <a href="#game"    class="nav-link">Our Story</a>
      <a href="#poem"    class="nav-link">Poem</a>
      <a href="#letter"  class="nav-link">Letter</a>
      <a href="#reasons" class="nav-link">100 Reasons</a>
      <a href="#quotes"  class="nav-link">Quotes</a>
      <a href="#gallery" class="nav-link">Gallery</a>
    </div>
    <button class="theme-btn" id="themeBtn">üåó</button>
  </nav>
</header>

<!-- Mobile drawer -->
<aside class="drawer" id="drawer" aria-hidden="true">
  <a href="#home"    class="drawer-link">üè† Home</a>
  <a href="#game"    class="drawer-link">üéÆ Our Story</a>
  <a href="#poem"    class="drawer-link">üå∏ Poem</a>
  <a href="#letter"  class="drawer-link">üíå Letter</a>
  <a href="#reasons" class="drawer-link">üíú 100 Reasons</a>
  <a href="#quotes"  class="drawer-link">‚ú® Quotes</a>
  <a href="#gallery" class="drawer-link">üñºÔ∏è Gallery</a>
</aside>

<main>

  <!-- ========== HERO ========== -->
  <section id="home" class="section">
    <div class="glass-card hero-card">
      <div class="hero-eyebrow">üíú 2 Years ¬∑ February 25, 2024</div>
      <h1 class="hero-title">Two Years of<br><em>Us, Together</em></h1>
      <p class="hero-sub">
        This is my gift for you, Van. Not because I have to ‚Äî
        but because you deserve a whole little world made just for you.
        Two years of mornings, and I'd choose every single one again.
      </p>
      <div class="hero-actions">
        <a href="#game"   class="btn">‚ñ∂ Play Our Story</a>
        <a href="#letter" class="btn ghost">üíå Open Letter</a>
      </div>
      <div class="hero-date-pill">Feb 25, 2024 ‚Üí Feb 25, 2026 ¬∑ made by Hatsuki</div>
    </div>
  </section>

  <!-- ========== VISUAL NOVEL ========== -->
  <section id="game" class="section">
    <div class="game-section-header">
      <div class="card-title" style="font-family:'Cormorant Garamond',serif;font-size:1.4rem;font-weight:600;color:var(--cream)">Our Story ‚Äî A Short Film</div>
      <p>Relive our moments together. Tap anywhere on the scene to continue.</p>
    </div>

    <div id="game-wrap">
      <!-- Scene -->
      <div id="g-scene">
        <div class="g-stars"></div>
        <div class="g-moon"></div>
        <div class="g-city-lights"></div>
        <div class="g-city"></div>
        <div class="g-glow"></div>

        <!-- Two-person character -->
        <div id="g-char">
          <div class="g-char-glow"></div>
          <div class="pa-head"></div>
          <div class="pa-body"></div>
          <div class="pa-arm"></div>
          <div class="pa-legs"></div>
          <div class="pb-head"></div>
          <div class="pb-body"></div>
          <div class="pb-arm"></div>
          <div class="pb-legs"></div>
        </div>

        <div class="g-ground"></div>
      </div>

      <!-- Dialogue -->
      <div id="g-ui">
        <div id="g-speaker">Hatsuki</div>
        <div id="g-text"></div>
        <div class="g-tap">tap to continue</div>
      </div>

      <!-- End screen -->
      <div id="g-end">
        <div class="g-end-heart">üíú</div>
        <div class="g-end-title">Happy 2nd Anniversary, Van</div>
        <div class="g-end-sub">February 25, 2024 ‚Äî 2026<br>made for you, with all of me.</div>
        <button class="g-replay-btn" id="gReplay">‚Ü∫ Watch Again</button>
      </div>
    </div>
  </section>

  <!-- ========== POEM ========== -->
  <section id="poem" class="section">
    <div class="glass-card">
      <div class="card-label">// a poem</div>
      <div class="card-title">Two Years Under the Same Sky</div>
      <div class="poem-divider"></div>
      <div class="poem-body">
        <div class="stanza">
          I counted the stars the night you said yes,<br>
          and ran out of numbers ‚Äî so I counted your laugh instead.<br>
          Two years of ordinary mornings made extraordinary<br>
          by the single, stubborn fact of you.
        </div>
        <div class="stanza">
          We have argued over small things,<br>
          and forgiven each other before the sun went down.<br>
          We have been scared, and stayed anyway.<br>
          We have been lost, and found each other anyway.
        </div>
        <div class="stanza">
          You are not a grand gesture, Van.<br>
          You are every quiet Tuesday.<br>
          Every "good morning" before I'm awake enough to deserve it.<br>
          Every hand held in the dark.
        </div>
        <div class="stanza">
          Two years is not a long time.<br>
          But with you ‚Äî it already feels like the beginning of forever.
        </div>
      </div>
      <div class="poem-divider"></div>
      <div class="poem-footer">‚Äî written for Van, by Hatsuki</div>
    </div>
  </section>

  <!-- ========== LETTER ========== -->
  <section id="letter" class="section">
    <div class="glass-card">
      <div class="card-label">// a letter</div>
      <div class="card-title">For Van ‚Äî click to reveal</div>
      <div class="letter-area" id="letterArea" tabindex="0" aria-live="polite"><span style="font-style:italic;color:var(--muted)">Press "Type Letter" to begin...</span></div>
      <div class="letter-actions">
        <button class="btn" id="typeBtn">Type Letter</button>
        <button class="btn ghost" id="replayBtn">‚Ü∫ Replay</button>
      </div>
    </div>
  </section>

  <!-- ========== 100 REASONS ========== -->
  <section id="reasons" class="section">
    <div class="glass-card">
      <div class="card-label">// one hundred</div>
      <div class="card-title">100 Reasons I Love You, Van</div>
      <div class="r-controls">
        <input class="r-search" id="searchR" type="search" placeholder="Search by word or number‚Ä¶" />
        <button class="btn ghost" id="toggleR">Expand / Collapse</button>
      </div>
      <div class="reasons-wrap" id="reasonsWrap">
        <ol class="reasons-list" id="reasonsList">
          <li>You laugh and the whole room gets warmer.</li>
          <li>Your kindness isn't performed ‚Äî it's just who you are.</li>
          <li>The way you listen makes me feel like I'm the only person in the world.</li>
          <li>Your smile is still the one I think about when I close my eyes.</li>
          <li>You remember the small things I forget I even said.</li>
          <li>You make ordinary days feel like they matter.</li>
          <li>Your courage when things get hard reminds me to be brave too.</li>
          <li>Your hugs are the safest place I've ever been.</li>
          <li>You believe in my ideas even when I don't.</li>
          <li>You make me want to be a better version of myself.</li>
          <li>Your voice is my favorite sound in the world.</li>
          <li>You forgive me with a genuinely open heart.</li>
          <li>Your curiosity about the world makes me want to see it all with you.</li>
          <li>You support my dreams like they're yours, too.</li>
          <li>The way you blush when you're surprised is the most adorable thing.</li>
          <li>You hold my hand like we're the only two people left on earth.</li>
          <li>Your eyes say things your words haven't caught up to yet.</li>
          <li>You make effort feel completely effortless.</li>
          <li>Your patience teaches me gentleness every single day.</li>
          <li>You brighten my worst days just by showing up.</li>
          <li>Your honesty is the kind that actually builds trust.</li>
          <li>Your little messages make my whole day bloom.</li>
          <li>You challenge me kindly ‚Äî you never tear me down.</li>
          <li>You celebrate even the smallest wins with me.</li>
          <li>Your passion for things you love is completely contagious.</li>
          <li>You share the songs that matter to you and they all become our songs.</li>
          <li>Your style is quietly, confidently you.</li>
          <li>You laugh at my dumb jokes like they're genuinely funny.</li>
          <li>You make plans and always make room for me in them.</li>
          <li>Your forehead kisses are my favorite currency.</li>
          <li>You make time for us even when you're exhausted.</li>
          <li>Your empathy is one of the rarest things I've ever seen.</li>
          <li>You say "we" when I need a partner most.</li>
          <li>You teach me new ways to see things ‚Äî gently.</li>
          <li>Your excitement over small things completely renews me.</li>
          <li>You hold me accountable in the way I actually need.</li>
          <li>You bring calm when I'm scattered.</li>
          <li>You cheer the loudest when I do something right.</li>
          <li>Your silly dances make me giggle until I forget everything else.</li>
          <li>You trust me with the parts of yourself you don't show everyone.</li>
          <li>You are my favorite "home" in a crowded world.</li>
          <li>Your creativity turns ordinary into something I'd keep forever.</li>
          <li>You make me feel brave enough to try again.</li>
          <li>Your scent lives in my happiest memories.</li>
          <li>You correct me gently, always with love in it.</li>
          <li>Your integrity is one of your most beautiful qualities.</li>
          <li>You look at me like I'm the only one in the room.</li>
          <li>You're thoughtful in ways that always catch me off guard.</li>
          <li>Your hands fit mine perfectly ‚Äî literally and in every other way.</li>
          <li>You read between the lines and always find my heart.</li>
          <li>You share your honest dreams with me and let me be part of them.</li>
          <li>You stay when things get messy and real.</li>
          <li>Your love is steady ‚Äî like a lighthouse I always sail toward.</li>
          <li>You turn ordinary meals into cozy rituals I look forward to.</li>
          <li>Your courage to be exactly yourself teaches me freedom.</li>
          <li>You make quiet moments feel full.</li>
          <li>You celebrate our small traditions with genuine joy.</li>
          <li>Your resilience humbles me every time I see it.</li>
          <li>You surprise me with thoughtful little gestures I never expect.</li>
          <li>Your curiosity about me specifically makes our bond feel deep and real.</li>
          <li>You sing without caring who's listening and I love that so much.</li>
          <li>You show up ‚Äî even when it's inconvenient, even when it's hard.</li>
          <li>You accept my flaws and love me through them, not despite them.</li>
          <li>Your good morning messages are still my favorite alarm.</li>
          <li>You argue with me because you care too much to let things fester.</li>
          <li>You let me be completely goofy and hold my hand anyway.</li>
          <li>Your quiet strength holds our storms together without breaking.</li>
          <li>You are my best friend and my greatest love in the same person.</li>
          <li>Your eyes make ordinary sunsets feel like the very first one.</li>
          <li>You laugh at yourself ‚Äî you've taught me humility I couldn't find alone.</li>
          <li>You notice the things I forget to mention.</li>
          <li>You make new places feel safe instantly because you're there.</li>
          <li>You are tender at exactly the moments I need tenderness most.</li>
          <li>Your late-night messages make me smile in the dark.</li>
          <li>You encourage me to rest without guilt.</li>
          <li>You take photos of silly moments because you know they matter later.</li>
          <li>Your bravery in hard moments is genuinely awe-inspiring.</li>
          <li>You make promises and keep them.</li>
          <li>Your support has turned my fear into fuel more times than you know.</li>
          <li>You love me on days I forget to love myself.</li>
          <li>You create space for my weirdness and celebrate it instead of tolerating it.</li>
          <li>You challenge me to grow without ever making me feel small.</li>
          <li>Your empathy turns our problems into stories we face together.</li>
          <li>You look for ways to make me happy ‚Äî not because you have to, but because.</li>
          <li>Your presence is more comforting than any plan I've ever made.</li>
          <li>You still surprise me, two years in.</li>
          <li>Your future-planning always includes us, together, without me asking.</li>
          <li>You never let us go to bed while still angry at each other.</li>
          <li>You text first when you know I'm having a hard day.</li>
          <li>You apologize first even when it costs you something.</li>
          <li>You remember what I said ‚Äî even weeks later ‚Äî and that means everything.</li>
          <li>You make me feel chosen, not just loved. There's a difference, and you know it.</li>
          <li>You are not perfect. But you are exactly, perfectly right for me.</li>
          <li>You have made my life gentler, braver, and brighter.</li>
          <li>You are the best part of every ordinary day.</li>
          <li>You showed me that love isn't just a feeling ‚Äî it's a decision made every morning.</li>
          <li>And every morning, for two years, you decide me. I hope you always do.</li>
          <li>Because every time I say "I love you" ‚Äî I mean the whole universe. And that universe is you.</li>
        </ol>
      </div>
    </div>
  </section>

  <!-- ========== QUOTES ========== -->
  <section id="quotes" class="section">
    <div class="glass-card">
      <div class="card-label">// words that feel like us</div>
      <div class="card-title">Love Quotes</div>
      <ul class="quote-list">
        <li>"I loved you yesterday, I love you still, I always have, I always will."</li>
        <li>"In you I found the love of my life and my closest, truest friend."</li>
        <li>"The best thing to hold onto in life is each other."</li>
        <li>"If I had a flower for every time I thought of you, I could walk through my garden forever."</li>
        <li>"Home is not a place ‚Äî it's a person. And you are mine."</li>
        <li>"You are my favorite notification, my favorite distraction, and my favorite reason to smile."</li>
        <li>"To love and be loved is to feel the sun from both sides." ‚Äî David Viscott</li>
      </ul>
    </div>
  </section>

  <!-- ========== GALLERY ========== -->
  <section id="gallery" class="section">
    <div class="glass-card">
      <div class="card-label">// our milestones</div>
      <div class="card-title">Gallery ‚Äî Our Moments</div>
      <p style="color:var(--muted);font-size:.85rem;margin-top:-8px;margin-bottom:6px">Click any card.</p>
      <div class="gallery-grid">
        <div class="g-item gi-1" data-icon="üí¨" data-title="February 7, 2024" data-cap="The day it started ‚Äî one simple 'Hi'. I was so nervous but I'm so glad I sent it.">
          <div class="g-item-icon">üí¨</div>Feb 7, 2024<br><small>First Hello</small>
        </div>
        <div class="g-item gi-2" data-icon="üíê" data-title="February 9, 2024" data-cap="The day I started courting you. I didn't know how it would end. I'm glad it ended with you.">
          <div class="g-item-icon">üíê</div>Feb 9, 2024<br><small>The Pursuit</small>
        </div>
        <div class="g-item gi-3" data-icon="üíú" data-title="February 25, 2024" data-cap="You said yes. Everything changed on this day. Happy anniversary, Van.">
          <div class="g-item-icon">üíú</div>Feb 25, 2024<br><small>She Said Yes ‚ù§</small>
        </div>
        <div class="g-item gi-4" data-icon="ü§ù" data-title="Fights & Forgiveness" data-cap="We've had our fights ‚Äî but we always, always fixed it before the night ended. That's us.">
          <div class="g-item-icon">ü§ù</div>Every Disagreement<br><small>Fixed Together</small>
        </div>
        <div class="g-item gi-5" data-icon="üåô" data-title="Late Night Calls" data-cap="The calls that lasted way too long. Neither of us wanting to hang up. Worth every missed hour of sleep.">
          <div class="g-item-icon">üåô</div>Late Night Calls<br><small>Never Wanting to Hang Up</small>
        </div>
        <div class="g-item gi-6" data-icon="‚ú®" data-title="Two Years" data-cap="Happy 2nd anniversary, Van. Here's to every year after this one.">
          <div class="g-item-icon">‚ú®</div>2 Years<br><small>Together</small>
        </div>
      </div>
    </div>
  </section>

  <footer>
    Made with patience, love, and a whole lot of late nights ‚Äî
    <strong>Hatsuki</strong>, for <strong>Van</strong> ¬∑ February 25, 2026 üíú
  </footer>
</main>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <button class="lb-close" id="lbClose">‚úï</button>
  <div class="lb-card">
    <div class="lb-icon" id="lbIcon"></div>
    <div class="lb-title" id="lbTitle"></div>
    <div class="lb-caption" id="lbCap"></div>
  </div>
</div>

<script>
/* ============================================================
   CINEMATIC INTRO ‚Äî Sequenced reveal
============================================================ */
(function(){
  const intro   = document.getElementById('intro');
  const lines   = ['il-date','il-from','il-title','il-sub','il-hint'];
  const delays  = [600, 1400, 2200, 3400, 4800]; // ms each line appears

  lines.forEach((id, i) => {
    setTimeout(() => {
      document.getElementById(id)?.classList.add('show');
    }, delays[i]);
  });

  let gone = false;
  intro.addEventListener('click', leave);
  document.addEventListener('keydown', e => { if(e.key === ' ' || e.key === 'Enter') leave(); });

  function leave(){
    if(gone) return;
    gone = true;
    intro.classList.add('exit');
    setTimeout(() => { intro.style.display = 'none'; }, 1900);
  }
})();

/* ============================================================
   NAV
============================================================ */
(function(){
  const hambtn  = document.getElementById('hambtn');
  const drawer  = document.getElementById('drawer');
  const themeBtn= document.getElementById('themeBtn');
  let open = false;

  hambtn?.addEventListener('click', () => {
    open = !open;
    drawer.classList.toggle('open', open);
    drawer.setAttribute('aria-hidden', (!open).toString());
  });
  document.addEventListener('click', e => {
    if(!open) return;
    if(!drawer.contains(e.target) && !hambtn.contains(e.target)){
      open = false; drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true');
    }
  });
  drawer.querySelectorAll('.drawer-link').forEach(a => {
    a.addEventListener('click', () => {
      open = false; drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true');
    });
  });

  themeBtn?.addEventListener('click', () => {
    document.body.classList.toggle('light');
    themeBtn.animate([{transform:'rotate(0)'},{transform:'rotate(180deg)'},{transform:'rotate(0)'}],{duration:380});
  });

  // Smooth anchor scroll
  document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', ev => {
      ev.preventDefault();
      const el = document.getElementById(a.getAttribute('href').slice(1));
      if(el) el.scrollIntoView({ behavior:'smooth', block:'start' });
    });
  });

  // Parallax
  const sf1 = document.querySelector('.star-field');
  const sf2 = document.querySelector('.star-field.layer2');
  if(!window.matchMedia('(prefers-reduced-motion:reduce)').matches){
    window.addEventListener('mousemove', e => {
      const nx = (e.clientX/window.innerWidth) - .5;
      const ny = (e.clientY/window.innerHeight) - .5;
      if(sf1) sf1.style.transform = `translate3d(${nx*10}px,${ny*6}px,0)`;
      if(sf2) sf2.style.transform = `translate3d(${nx*18}px,${ny*10}px,0) scale(1.15) rotate(3deg)`;
    }, {passive:true});
  }
})();

/* ============================================================
   VISUAL NOVEL ‚Äî Hatsuki tells Van their story
============================================================ */
(function(){
  const SCRIPT = [
    { s:'Hatsuki', t:'Dito tayo palagi nagtatapos... sa balkonahe ng gabi, nakatingin sa ilaw ng lungsod.' },
    { s:'Hatsuki', t:'Nung February 7, 2024 ‚Äî nagpadala ako ng simpleng "Hi" sayo. Sobrang kaba ko noon.' },
    { s:'Van',     t:'Naalala ko yun. Iba yung "Hi" mo. May kakaibang kaba na naramdaman ko.' },
    { s:'Hatsuki', t:'February 9, nagsimula na akong manligaw. Araw-araw, iniisip ko kung nararamdaman mo ba.' },
    { s:'Van',     t:'Nararamdaman ko. Kahit ayaw ko pang aminin noon... nararamdaman ko.' },
    { s:'Hatsuki', t:'Tapos dumating ang February 25... yung araw na sinabi mong "Oo."' },
    { s:'Van',     t:'Yun yung pinaka-kinabahan akong araw ng buhay ko. Haha. Pero... worth it.' },
    { s:'Hatsuki', t:'Hindi naging madali lahat. May mga pagkakataon na hindi tayo nagkakaintindihan.' },
    { s:'Van',     t:'Pero palagi tayong nagsasaayos. Bago matapos ang gabi, lagi nating pinagusapan.' },
    { s:'Hatsuki', t:'Yun ang gusto ko sa atin. Hindi tayo nagpapahinto ng galit. Inaalagaan natin ang isa\'t isa.' },
    { s:'Van',     t:'Paborito ko pa rin yung mga late night call natin... yung ayaw nating mag-hang up.' },
    { s:'Hatsuki', t:'Kahit maagahan pa tayo kinabukasan. Palagi nating pinili ang isa\'t isa kaysa sa tulog.' },
    { s:'Van',     t:'Dalawang taon na pala... pero parang kahapon pa lang yung unang "Hi" mo.' },
    { s:'Hatsuki', t:'Dalawang taon ‚Äî at sa bawat umaga, pinipili pa rin kita, Van. Palagi.' },
    { s:'Van',     t:'Hatsuki... mahal kita. Hindi lang bilang kasintahan ‚Äî bilang taong gusto ko sa lahat ng bagay.' },
    { s:'Hatsuki', t:'Happy 2nd Anniversary, Van. This whole page ‚Äî everything in it ‚Äî is for you.' },
    { s:'Hatsuki', t:'Salamat sa pagpili sa atin, every single day. Until then... and way, way beyond. üíú' },
  ];

  const ui      = document.getElementById('g-ui');
  const speaker = document.getElementById('g-speaker');
  const textEl  = document.getElementById('g-text');
  const gEnd    = document.getElementById('g-end');
  const gWrap   = document.getElementById('game-wrap');
  const replayBtn= document.getElementById('gReplay');

  let step = 0, typing = false, iv = null, full = '';

  // Spawn floating particles in scene
  function spawnParticles(){
    const scene = document.getElementById('g-scene');
    for(let i=0;i<8;i++){
      const p = document.createElement('div');
      p.className = 'g-particle';
      const s = Math.random()*2+1;
      p.style.cssText = `width:${s}px;height:${s}px;
        left:${20+Math.random()*60}%;bottom:${22+Math.random()*10}%;
        animation-duration:${4+Math.random()*4}s;
        animation-delay:${Math.random()*3}s;`;
      scene.appendChild(p);
    }
  }

  function type(text){
    typing = true;
    textEl.innerHTML = '';
    textEl.classList.add('g-cursor');
    let i = 0;
    iv = setInterval(() => {
      if(i < text.length){
        const c = text.charAt(i);
        if(c === '\'') textEl.innerHTML += '\'';
        else if(c === '&') textEl.innerHTML += '&amp;';
        else if(c === '<') textEl.innerHTML += '&lt;';
        else textEl.innerHTML += c;
        i++;
      } else {
        clearInterval(iv); typing = false;
        textEl.classList.remove('g-cursor');
      }
    }, 44);
  }

  function finish(){
    clearInterval(iv); typing = false;
    textEl.classList.remove('g-cursor');
    textEl.innerHTML = full
      .replace(/&/g,'&amp;').replace(/</g,'&lt;')
      .replace(/'/g,"'");
  }

  function runStep(){
    if(step >= SCRIPT.length){ end(); return; }
    const s = SCRIPT[step];
    speaker.textContent = s.s;
    speaker.className = s.s === 'Van' ? 'van' : '';
    full = s.t;
    type(s.t);
  }

  function end(){
    ui.style.opacity = '0';
    setTimeout(() => gEnd.classList.add('show'), 700);
  }

  function reset(){
    step = 0; typing = false; clearInterval(iv);
    gEnd.classList.remove('show');
    textEl.innerHTML = ''; textEl.classList.remove('g-cursor');
    ui.style.opacity = '1';
    runStep();
  }

  // Start when intro leaves
  function startGame(){
    spawnParticles();
    ui.style.opacity = '1';
    runStep();
  }

  // Hook into intro exit
  const introEl = document.getElementById('intro');
  introEl.addEventListener('click', () => setTimeout(startGame, 2000), {once:true});
  document.addEventListener('keydown', e=>{
    if((e.key===' '||e.key==='Enter') && introEl.style.display!=='none') setTimeout(startGame,2000);
  }, {once:true});

  gWrap.addEventListener('click', () => {
    if(gEnd.classList.contains('show')) return;
    if(typing){ finish(); return; }
    step++;
    runStep();
  });

  replayBtn?.addEventListener('click', e => { e.stopPropagation(); reset(); });
})();

/* ============================================================
   LETTER
============================================================ */
(function(){
  const LETTER = `Dear Van,

Gusto ko lang sabihin sayo ‚Äî ngayon, sa araw na ito, sa ating ika-2 na anibersaryo ‚Äî

Hindi ko inaasahan na magdadala sa akin ang isang simpleng "Hi" sa lugar na ito.
Sa dalawang taon, naranasan ko ang pinakamagandang anyo ng pagmamahal kasama ka.

Naranasan ko ang mag-aaway tayo ‚Äî yung gabing pakiramdam ko hindi tayo magkakaintindihan.
Pero dun ko napagtanto na mahal na mahal kita. Kasi kahit pagkatapos ng away,
bumabalik pa rin ako. Palagi akong bumabalik.

Mahal ko ang boses mo kapag nagtutukso ka sa akin.
Mahal ko ang mga late night calls natin na ayaw nating tapusin.
Mahal ko ang umaga kapag nag-me-message ka bago ako gising.
Mahal ko ang lahat ng mundong-ordinaryo na naging espesyal dahil kasama ka.

Maraming salamat sa pagmamahal sa akin nang walang kondisyon.
Maraming salamat sa pagpili sa atin, araw-araw, kahit hindi palagi madali.

Kahit hindi perpekto, kahit may mga araw na mahirap ‚Äî
Pipiliin kita ulit. Lagi. Walang alinlangan.

Happy 2nd Anniversary, Van.
This is my gift. This is all of me saying:

I love you. Then, now, and until then ‚Äî always.

‚Äî Hatsuki üíú`;

  const area     = document.getElementById('letterArea');
  const typeBtn  = document.getElementById('typeBtn');
  const replayBtn= document.getElementById('replayBtn');
  let idx=0, running=false, iv=null;

  function ch(c){ return c==='\n'?'<br>':(c==='&'?'&amp;':c==='<'?'&lt;':c); }
  function addCur(){ area.appendChild(Object.assign(document.createElement('span'),{className:'typing-cursor'})); }
  function rmCur(){ area.querySelector('.typing-cursor')?.remove(); }

  function startType(spd=24){
    if(running) return;
    running=true;
    if(idx===0){ area.innerHTML=''; }
    addCur();
    iv=setInterval(()=>{
      rmCur();
      area.insertAdjacentHTML('beforeend', ch(LETTER.charAt(idx)));
      area.scrollTop = area.scrollHeight;
      idx++;
      if(idx>=LETTER.length){ clearInterval(iv); running=false; }
      else addCur();
    }, spd);
  }
  function stop(){ clearInterval(iv); running=false; rmCur(); }
  function reset(){ stop(); idx=0; area.innerHTML=''; }

  typeBtn?.addEventListener('click',()=>{
    if(running){ stop(); typeBtn.textContent='Resume'; return; }
    if(idx>=LETTER.length) reset();
    typeBtn.textContent='Pause';
    startType(24);
  });
  replayBtn?.addEventListener('click',()=>{ reset(); typeBtn.textContent='Pause'; startType(14); });
})();

/* ============================================================
   REASONS
============================================================ */
(function(){
  const search = document.getElementById('searchR');
  const list   = document.getElementById('reasonsList');
  const toggle = document.getElementById('toggleR');
  const wrap   = document.getElementById('reasonsWrap');
  let expanded = true;

  search?.addEventListener('input', e => {
    const q = e.target.value.trim().toLowerCase();
    list.querySelectorAll('li').forEach((li,i) => {
      const show = !q || li.textContent.toLowerCase().includes(q) || (i+1).toString().includes(q);
      li.classList.toggle('hide', !show);
    });
  });

  toggle?.addEventListener('click', () => {
    expanded = !expanded;
    wrap.style.maxHeight = expanded ? '400px' : '72px';
    wrap.style.overflow  = expanded ? 'auto' : 'hidden';
    toggle.textContent   = expanded ? 'Expand / Collapse' : 'Expand';
  });
})();

/* ============================================================
   GALLERY
============================================================ */
(function(){
  const items   = document.querySelectorAll('.g-item');
  const lb      = document.getElementById('lightbox');
  const lbClose = document.getElementById('lbClose');
  const lbIcon  = document.getElementById('lbIcon');
  const lbTitle = document.getElementById('lbTitle');
  const lbCap   = document.getElementById('lbCap');

  // Staggered entrance
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if(e.isIntersecting){ e.target.classList.add('vis'); obs.unobserve(e.target); }
    });
  }, { threshold: .12 });
  items.forEach((it,i) => { it.style.transitionDelay = (i*.08)+'s'; obs.observe(it); });

  function open(it){
    lbIcon.textContent  = it.getAttribute('data-icon') || '';
    lbTitle.textContent = it.getAttribute('data-title') || '';
    lbCap.textContent   = it.getAttribute('data-cap') || '';
    lb.classList.add('open');
    lb.setAttribute('aria-hidden','false');
  }
  function close(){
    lb.classList.remove('open');
    lb.setAttribute('aria-hidden','true');
  }

  items.forEach(it => it.addEventListener('click', () => open(it)));
  lbClose?.addEventListener('click', close);
  lb?.addEventListener('click', e => { if(e.target===lb) close(); });
  window.addEventListener('keydown', e => { if(e.key==='Escape') close(); });
})();
</script>
</body>
</html>
